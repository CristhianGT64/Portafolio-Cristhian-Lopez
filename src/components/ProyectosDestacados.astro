---
const titulo = "Proyectos Destacados";

const proyectos = [
  {
    id: "dashboard",
    nombre: "Dashboard Analytics",
    descripcion:
      "Panel analítico con métricas en tiempo real, roles y reportes exportables. Arquitectura modular y caché.",
    tecnologias: ["Next.js", "TypeScript", "Tailwind", "Prisma", "PostgreSQL"],
    imagen: "/images/projects/dashboard.jpg",
    codeUrl: "https://github.com/tu-usuario/dashboard",
    demoUrl: "https://demo.tu-sitio.com/dashboard",
  },
  {
    id: "app-tareas",
    nombre: "App Móvil de Tareas",
    descripcion:
      "Aplicación móvil para gestión de tareas con sincronización en la nube y notificaciones push.",
    tecnologias: ["React Native", "Firebase", "Redux"],
    imagen: "/images/projects/tasks-mobile.jpg",
    codeUrl: "https://github.com/tu-usuario/app-tareas",
    demoUrl: "https://demo.tu-sitio.com/app-tareas",
  },
  {
    id: "ecommerce",
    nombre: "E-commerce Platform",
    descripcion:
      "Plataforma de comercio electrónico con pasarela de pago, catálogo, carrito y panel de administración.",
    tecnologias: ["Remix", "Stripe", "Redis", "Cloudflare"],
    imagen: "/images/projects/ecommerce.jpg",
    codeUrl: "https://github.com/tu-usuario/ecommerce",
    demoUrl: "https://demo.tu-sitio.com/ecommerce",
  },
];
---

<section id="proyectos" class="relative isolate">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-16 sm:py-20">
    <h2 class="text-center text-4xl sm:text-5xl font-semibold tracking-tight text-neutral-900">
      {titulo}
    </h2>

    <!-- Radios: DEBEN ir antes del wrapper -->
    {proyectos.map((p, i) => (
      <input
        type="radio"
        name="proyecto"
        id={`tab-${p.id}`}
        class="sr-only"
        checked={i === 1}   
      />
    ))}

    <!-- WRAPPER con clase DEDICADA -->
    <div class="projects-card mt-10 rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm">
      <div class="grid grid-cols-1 gap-6 lg:grid-cols-[260px_1fr]">
        <!-- Sidebar -->
        <aside class="rounded-xl border border-neutral-200 p-3 sm:p-4">
          <h3 class="mb-3 text-sm font-medium text-neutral-500">Proyectos</h3>
          <nav class="flex flex-col gap-2">
            {proyectos.map((p) => (
              <label
                for={`tab-${p.id}`}
                class="inline-flex cursor-pointer items-center justify-between gap-2 rounded-lg px-3 py-2 text-sm text-neutral-700 ring-1 ring-transparent transition hover:bg-neutral-50"
              >
                <span>{p.nombre}</span>
              </label>
            ))}
          </nav>
        </aside>

        <!-- Paneles -->
        <section class="space-y-6">
          {proyectos.map((p) => (
            <article class="tab-panel hidden" data-tab={p.id}>
              <figure class="overflow-hidden rounded-xl ring-1 ring-black/5">
                <img
                  src={p.imagen}
                  alt={`Imagen del proyecto ${p.nombre}`}
                  class="w-full object-cover"
                  loading="lazy"
                />
              </figure>

              <div class="pt-4">
                <h3 class="text-xl sm:text-2xl font-semibold text-neutral-900">{p.nombre}</h3>
                <p class="mt-2 max-w-3xl text-[15px] leading-7 text-neutral-600">{p.descripcion}</p>

                <div class="mt-4">
                  <h4 class="text-sm font-medium text-neutral-700">Tecnologías</h4>
                  <div class="mt-2 flex flex-wrap gap-2">
                    {p.tecnologias.map((t) => (
                      <span class="rounded-full bg-neutral-100 px-2.5 py-1 text-xs text-neutral-700 ring-1 ring-neutral-200">{t}</span>
                    ))}
                  </div>
                </div>

                <div class="mt-5 flex items-center gap-3">
                  <a href={p.codeUrl} target="_blank" rel="noopener"
                     class="inline-flex items-center gap-2 rounded-lg bg-neutral-900 px-3.5 py-2 text-sm font-semibold text-white ring-1 ring-neutral-900/10 hover:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M8 16l-4-4 4-4m8 8l4-4-4-4M14 4l-4 16"/>
                    </svg>
                    Código
                  </a>
                  <a href={p.demoUrl} target="_blank" rel="noopener"
                     class="inline-flex items-center gap-2 rounded-lg bg-white px-3.5 py-2 text-sm font-semibold text-neutral-800 ring-1 ring-neutral-200 hover:bg-neutral-50">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M8 5v14l11-7-11-7z"/>
                    </svg>
                    Demo
                  </a>
                </div>
              </div>
            </article>
          ))}
        </section>
      </div>
    </div>
  </div>
</section>

