---
const titulo = "Proyectos Destacados";

  import { proyectos } from "../content/projects/proyectos";
---

<section id="proyectos" class="relative isolate">
  <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-16 sm:py-20">
    <h2 class="text-center text-4xl sm:text-5xl font-semibold tracking-tight text-neutral-900">
      {titulo}
    </h2>

    <!-- Radios: DEBEN ir antes del wrapper -->
    {proyectos.map((p, i) => (
      <input
        type="radio"
        name="proyecto"
        id={`tab-${p.id}`}
        class="sr-only"
        checked={i === 0}   
      />
    ))}

    <!-- WRAPPER con clase DEDICADA -->
    <div class="projects-card mt-10 rounded-2xl border border-neutral-200 bg-white p-4 sm:p-6 shadow-sm">
      <div class="grid grid-cols-1 gap-6 lg:grid-cols-[260px_1fr]">
        <!-- Sidebar -->
        <aside class="rounded-xl border border-neutral-200 p-3 sm:p-4">
          <h3 class="mb-3 text-sm font-medium text-neutral-500">Proyectos</h3>
          <nav class="flex flex-col gap-2">
            {proyectos.map((p) => (
              <label
                for={`tab-${p.id}`}
                class="inline-flex cursor-pointer items-center justify-between gap-2 rounded-lg px-3 py-2 text-sm text-neutral-700 ring-1 ring-transparent transition hover:bg-neutral-50"
              >
                <span>{p.nombre}</span>
              </label>
            ))}
          </nav>
        </aside>

        <!-- Paneles -->
        <section class="space-y-6">
          {proyectos.map((p) => (
            <article class="tab-panel hidden" data-tab={p.id}>
              <figure class="overflow-hidden rounded-xl ring-1 ring-black/5">
                <img
                  src={p.imagen}
                  alt={`Imagen del proyecto ${p.nombre}`}
                  class="w-full object-cover"
                  loading="lazy"
                />
              </figure>

              <div class="pt-4">
                <h3 class="text-xl sm:text-2xl font-semibold text-neutral-900">{p.nombre}</h3>
                {
                  p.descripcion.map((descrip) => (
                    <p class="mt-2 max-w-3xl text-[15px] leading-7 text-neutral-600" set:html={descrip}></p>

                  ))
                }

                <div class="mt-4">
                  <h4 class="text-sm font-medium text-neutral-700">Tecnolog√≠as</h4>
                  <div class="mt-2 flex flex-wrap gap-2">
                    {p.tecnologias.map((t) => (
                      <span class="rounded-full bg-neutral-100 px-2.5 py-1 text-xs text-neutral-700 ring-1 ring-neutral-200">{t}</span>
                    ))}
                  </div>
                </div>

                <div class="mt-5 flex items-center gap-3">
                  {/* Codigo para recorrer codigos de git */}
                  {p.codeUrl.map((codeGit) => (

                    <a href={codeGit.url} target="_blank" rel="noopener"
                      class="inline-flex items-center gap-2 rounded-lg bg-neutral-900 px-3.5 py-2 text-sm font-semibold text-white ring-1 ring-neutral-900/10 hover:bg-neutral-800">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8 16l-4-4 4-4m8 8l4-4-4-4M14 4l-4 16"/>
                      </svg>
                      {codeGit.nombre}
                    </a>

                  ))}

                  {/* recorrer los desploy */}
                  {p.demoUrl.map((desploy) => (
                      <a href={desploy.url} target="_blank" rel="noopener"
                      class="inline-flex items-center gap-2 rounded-lg bg-white px-3.5 py-2 text-sm font-semibold text-neutral-800 ring-1 ring-neutral-200 hover:bg-neutral-50">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7-11-7z"/>
                      </svg>
                      {desploy.nombre}
                    </a>
                  ))}

                </div>
              </div>
            </article>
          ))}
        </section>
      </div>
    </div>
  </div>
</section>

